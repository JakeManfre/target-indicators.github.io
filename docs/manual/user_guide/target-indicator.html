<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>Target Indicator | Target Indicators Documentation </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="Target Indicator | Target Indicators Documentation ">
    
    
      <link rel="shortcut icon" href="../../images/target_indicators_light_icon.png">
      <link rel="stylesheet" href="../../styles/docfx.vendor.min.css">
      <link rel="stylesheet" href="../../styles/docfx.css">
      <link rel="stylesheet" href="../../styles/main.css">
      <meta property="docfx:navrel" content="../../toc.html">
      <meta property="docfx:tocrel" content="../toc.html">
    
    <meta property="docfx:rel" content="../../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../images/target_indicators_light_icon.png" alt="Target Indicators">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">

        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first=First data-prev=Previous data-next=Next data-last=Last></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="target-indicators-target-indicator">
<h1 id="target-indicator">Target Indicator</h1>

<p>A Target Indicator is a C# struct that contains the properties necessary for placing indicators on the screen to track a target. The following sections explains the target indicator properties and how they map to the screen in more detail.</p>
<h3 id="target-indicator-id">Target indicator id</h3>
<p>The <a class="xref" href="../../api/TargetIndicators.TargetIndicatorId.html">TargetIndicatorId</a> property is the unique ID associated with a target indicator. It is generated by the <a class="xref" href="target-indicator-manager.html">Target indicator manager</a> for each target and persists until the target is removed.</p>
<p>If a target is added back to the target indicator manager after it has been removed, it will have a new target indicator ID.</p>
<h3 id="target">Target</h3>
<p>The <a class="xref" href="../../api/TargetIndicators.TargetIndicator.html#TargetIndicators_TargetIndicator_Target">target</a> is the transform that the target indicator is tracking. The position of the target is what gets transformed to the screen coordinates for the target indicator.</p>
<h3 id="screen-pose">Screen pose</h3>
<p>The <a class="xref" href="../../api/TargetIndicators.TargetIndicator.html#TargetIndicators_TargetIndicator_ScreenPose">ScreenPose</a> property is a <a href="https://docs.unity3d.com/6000.0/Documentation/ScriptReference/Pose.html">Pose</a> that contains the position and rotation of the target indicator for placement of a visual indicator. The values stored in the position and rotation of the pose differ between the boundary type when the target indicator was created. Refer to <a href="#interpret-the-screen-pose">interpret the screen pose</a> to learn how to use the respective pose values.</p>
<h3 id="is-outside-boundary">Is outside boundary</h3>
<p>The <a class="xref" href="../../api/TargetIndicators.TargetIndicator.html#TargetIndicators_TargetIndicator_IsOutsideBoundary">IsOutsideBoundary</a> property indicates if the screen pose of the target is outside of the boundary configured by the target indicator manager when the target indicator was created. The <code>IsOutsideBoundary</code> property will not update on existing target indicators structs if the boundary changes. You should wait for an updated target indicator an <a class="xref" href="target-indicator-manager.html#life-cycle-events">update</a> to get the updated state or use <a class="xref" href="target-indicator-manager.html#is-outside-boundary">TargetIndicatorManager.IsOutsideBoundary</a>.</p>
<div class="IMPORTANT">
<h5>Important</h5>
<p>For <code>BoundaryType.CompassTape</code> and <code>BoundaryType.Unbounded</code> the <code>IsOutsideBoundary</code> property will always be <code>false</code>. <code>BoundaryType.Compass</code> requires knowledge about your specific compass tape setup to determine if it's outside the boundary.sTape</p>
<p>Refer to <a class="xref" href="../samples/sample-scenes.html#compass-tape-target-indicators-demo">samples</a> as a reference for how you can check if the target indicator is outside of the boundary.</p>
</div>
<h2 id="screen-coordinates">Screen coordinates</h2>
<p>Target indicators uses screen coordinates in pixels to describe the placement of a target indicator. The bottom left of the screen corresponds to coordinate (0, 0) and the top right of the screen corresponds to (<a href="https://docs.unity3d.com/6000.0/Documentation/ScriptReference/Screen-width.html">Screen.width</a>, <a href="https://docs.unity3d.com/6000.0/Documentation/ScriptReference/Screen-height.html">Screen.height</a>).</p>
<p><img src="../../images/screen-coordinate-system.png" alt="An image showing the screen space coordinate system."></p>
<h2 id="interpret-the-screen-pose">Interpret the screen pose</h2>
<p>Depending on your target indicator manager's <a class="xref" href="target-indicator-manager.html#configure-the-target-indicator-manager">boundary configuration</a>, the screen pose values can be interpreted differently. The following sections describe how to interpret the <code>ScreenPose</code> for different boundary types.</p>
<div class="WARNING">
<h5>Warning</h5>
<p>If you are using <a href="https://docs.unity3d.com/Packages/com.unity.ugui@2.0/manual/index.html">uGUI (Unity UI)</a>, the coordinates can be affected by the <a href="https://docs.unity3d.com/6000.0/Documentation/ScriptReference/Canvas-renderMode.html">Canvas.renderMode</a>. Refer to <a class="xref" href="ugui-indicators.html">uGUI indicators</a> to learn more about how to handle different render modes.</p>
</div>
<h3 id="padded-boundary-type">Padded boundary type</h3>
<p>The <code>ScreenPose.position.x</code> and <code>ScreenPose.position.y</code> components correspond directly to screen coordinates. This means you should place your visual indicator at those exact coordiantes.</p>
<p>The <code>ScreenPose.position.z</code> component corresponds to the depth from the camera the target is in world space. This can be helpful to know if a target is behind you. It is not needed for placing visual indicators on the screen.</p>
<p>The <code>ScreenPose.rotation</code> property indicates the direction to rotate towards the target in screen space from the right vector (1, 0). This is useful if you want to have an arrow pointing at the target in screen space when the target is outside the boundary.</p>
<p>Refer to the image below to understand how rotations apply to target indicators.</p>
<p><img src="../../images/screen-pose-rotation.png" alt="An image of showing how rotation is applied in screen space."></p>
<p>This image shows the screen space coordinate system and the rotation of a target indicator. The indicator has a rotation of 130° relative to the right vector (1, 0) in screen space. Use this value to rotate an arrow to point at the target.</p>
<ol type="A">
    <li>The vector in screen space that the rotation of a screen pose is relative to.</li>
    <li>The vector pointing to the target indicators screen pose. This is the vector used to calculate the angle.</li>
</ol>
<h3 id="absolute-boundary-type">Absolute boundary type</h3>
<p>Like the padded boundary type, the absolute boundary uses the <code>ScreenPose.position</code> and <code>ScreenPose.rotation</code> the same.</p>
<h3 id="compass-tape-boundary-type">Compass tape boundary type</h3>
<p>Unlike the <code>Padded</code> and <code>Absolute</code> boundary types, the <code>CompassTape</code> boundary type does not provide direct pixel screen coordinates. Instead, <code>TargetIndicator.ScreenPose.x</code> contains a normalized value between 0 and 1, representing the target's horizontal position on the tape. All other <code>ScreenPose</code> components will be 0. The screen pose rotation will be <code>Quaternion.identity</code>.</p>
<p><strong>Compass tape primer</strong></p>
<p>Compass tapes are compasses that are displayed as a horizontal strip with a scrolling texture as the user turns around the Y, or up, axis and the middle of the compass always corresponds to the direction the user is facing.</p>
<p><img src="../../images/compass-tape-example.png" alt="An image of a compass tape in Apex Legends"></p>
<p>Compass tapes are broken up into two parts:</p>
<ol>
<li><p><strong>Full tape</strong></p>
<p>Full tape is the part of the compass tape that reprsents the full spectrum of cardinal directions north, east, south, and west. It is the distance for one full rotation. The full tape is not always visible as it requires a texture to scroll and wrap around the tape as the user makes a full rotation.</p>
</li>
<li><p><strong>Visible tape</strong></p>
<p>Visible tape refers to the part of the compass tape that is visible at any given time and is shorter than the full tape length. Often the visible tape is half the length of the full tape.</p>
</li>
</ol>
<p>Refer to the image below to understand how the screen pose for a compass tape is mapped to a compass tape.</p>
<p><img src="../../images/compass-tape-coordinate-explained.png" alt="An image that describes how the screen pose x coordinate maps to a compass tape."></p>
<p>This image represents looking down onto a player on the XZ plane of the world.</p>
<ol type="A">
    <li>The point where the user is standing facing the positive Z axis.</li>
    <li>The point directly behind the player that corresponds to 0, or the left end of the full tape. The values increase around the circle in a clockwise rotation.</li>
    <li>The point directly in front of the player that corresponds to 0.5, or half way across the full tape.</li>
    <li>The point also directly behind the player that corresponds to 1, or the right end of the full tape. This is the highest value on the compass tape and rotating clockwise beyond this point will wrap the value back to 0.</li>
    <li>The point of a tracked target in front of and to the left of the player. The value will be ≈ 0.3, or about one third from the left end of the full tape represented by the matching green circles.</li>
    <li>The left end of the full tape.</li>
    <li>The left end of the visible tape.</li>
    <li>The right end of the visible tape.</li>
    <li>The right end of the full tape.</li>
</ol>
<p>A target that is directly in front of the player will have a <code>ScreenPose.position.x</code> value of 0.5. As the target moves around the player in a clockwise rotation, its value will increase to 1 as it reaches directly behind the player. If the target continues to move in a clockwise rotation from behind the player, its value will wrap to 0 and increase back to 0.5 as it reached to its starting point directly in front of the player.</p>
<p>You can use this 0 to 1 value to know where on your full tape the indicator should be placed.</p>
<h3 id="unbounded-boundary-type">Unbounded boundary type</h3>
<p>Similar to <code>Padded</code> and <code>Absolute</code> boundary types, <code>Unbounded</code> uses direct pixel screen coordinates. However, when a target moves outside the camera's field of view, its corresponding visual indicator will also move off-screen, as it is not clamped to the screen edges.</p>
<p>When a target rotates behind the player, resulting in <code>TargetIndicator.ScreenPose.position.z</code> becoming less than 0, the system sets <code>TargetIndicator.ScreenPose.position.x</code> to <code>float.MaxValue</code>. This ensures visual indicators do not incorrectly appear on screen when their target is behind the player.</p>

</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/JakeManfre/waypoint-indicator/blob/main/Assets/Target Indicators/Documentation~/manual/user_guide/target-indicator.md/#L1" class="contribution-link">Edit this page</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In this article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      
      <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>

    <script type="text/javascript" src="../../styles/docfx.vendor.min.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
