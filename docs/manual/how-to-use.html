<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>

  <head>
    <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      <title>How to use target indicators | Target Indicators Documentation </title>
      <meta name="viewport" content="width=device-width">
      <meta name="title" content="How to use target indicators | Target Indicators Documentation ">
    
    
      <link rel="shortcut icon" href="../images/target_indicators_light_icon.png">
      <link rel="stylesheet" href="../styles/docfx.vendor.min.css">
      <link rel="stylesheet" href="../styles/docfx.css">
      <link rel="stylesheet" href="../styles/main.css">
      <meta property="docfx:navrel" content="../toc.html">
      <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>

        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>

              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../images/target_indicators_light_icon.png" alt="Target Indicators">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>

        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">

        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first=First data-prev=Previous data-next=Next data-last=Last></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">

        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="target-indicators-how-to-use">
<h1 id="how-to-use-target-indicators">How to use target indicators</h1>

<p>Target Indicators only requires the <a class="xref" href="../api/TargetIndicators.TargetIndicatorManager.html">TargetIndicatorManager</a> component which is responsible for adding, updating, and removing targets to track. Simply give it a transform or 3D point in space and it will return the screen pose for the indicator.</p>
<p>Use any UI system for drawing your indicators and customize your indicators for your projects needs. You can configure the target indicators manager to keep your indicators bound within the screen and adjust the padding, size, and shape of the boundary. Use multiple managers to have multiple boundary configurations for different indicator groups.</p>
<p>The following sections explain how to use the target indicators API.</p>
<div class="IMPORTANT">
<h5>Important</h5>
<p>By default <code>Target Indicators</code> does <strong>not</strong> display or draw any UI in the scene. It only returns screen pose coordinates for you to display your own indicators. This enables you to use any UI system you want. If you are interested in a prebuilt indicator UI you can import the sample's starter assets which provides an easy to use solution with <a href="https://docs.unity3d.com/Packages/com.unity.ugui@3.0/manual/index.html">Unity UI</a>. Refer to the <a href="xref:">samples docs</a> to learn more about how to configure the prebuilt indicators.</p>
</div>
<h2 id="scene-setup">Scene Setup</h2>
<p>Add the <a class="xref" href="../api/TargetIndicators.TargetIndicatorManager.html">TargetIndicatorManager</a> to a GameObject in the hiearchy and edit the configuration to your projects needs.</p>
<p><img src="../images/scene-setup.png" alt="The TargetIndicatorManager component attached to a GameObject."></p>
<h2 id="configure-the-target-indicator-manager">Configure the Target Indicator Manager</h2>
<p>The <code>TargetIndicatorManager</code> has several serialized fields that can be edited within the inspector or set via properties at runtime. The following sections explains each property in more detail.</p>
<h3 id="camera">Camera</h3>
<p>The camera reference is used for calculating the screen space coordinates of each target. By default when the <code>TargetIndicatorManager</code> component is added or reset it will assign the camera in your scene with the <code>MainCamera</code> tag. If no camera has the <code>MainCamera</code> tag it will fallback to using the first camera in the scene. You can assign a different camera if you want to target a specific camera for your target indicators.</p>
<p>You can also assign the camera reference at runtime by the <a class="xref" href="../api/TargetIndicators.TargetIndicatorManager.html#TargetIndicators_TargetIndicatorManager_Camera">TargetIndicatorManager.Camera</a> property.</p>
<h3 id="boundary-type">Boundary type</h3>
<p>The boundary type determines how target indicators should be positioned. For example indicators can be bound by the screen edges and automatically adjust with the screen size or they can have no boundary and only show an indicator when its target is on screen. You can change the boundary shape at runtime through the <a class="xref" href="../api/TargetIndicators.TargetIndicatorManager.html#TargetIndicators_TargetIndicatorManager_BoundaryType">BoundaryType</a> property.</p>
<p>Refer to the table below to understand the different boundary types:</p>
<table>
<thead>
<tr>
<th style="text-align: left;"><strong>Boundary Type</strong></th>
<th style="text-align: left;"><strong>Description</strong></th>
<th style="text-align: left;"><strong>Use Case</strong></th>
<th style="text-align: left;"><strong>Preview</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><strong>Padded</strong></td>
<td style="text-align: left;">Bounded by the screen edges with adjustable padding. Dynamically updates when the screen resizes.</td>
<td style="text-align: left;">Waypoints, points of interest, enemies, other players, etc.</td>
<td style="text-align: left;"><img src="../images/padded-rectangle.png" alt="An example of a padded rectangle boundary"></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Absolute</strong></td>
<td style="text-align: left;">Bounded by the absolute size of the configured boundary regardless of changes in screen size.</td>
<td style="text-align: left;">First person games where you want to indicate the direction you were attacked from.</td>
<td style="text-align: left;"><img src="../images/absolute-ellipse.png" alt="An example of an absolute ellipse boundary"></td>
</tr>
<tr>
<td style="text-align: left;"><strong>Compass Tape</strong></td>
<td style="text-align: left;">Bounded between 0 and 1 where 0 is to the left, 1 is to the right.</td>
<td style="text-align: left;">Common in Battle Royale games you want to display indicators on the horizontal compass tape.</td>
<td style="text-align: left;"><img src="../images/compass-tape.png" alt="An example of a compass tape boundary"></td>
</tr>
<tr>
<td style="text-align: left;"><strong>None</strong></td>
<td style="text-align: left;">Unbounded and the target indicator is only visible when the target is on screen.</td>
<td style="text-align: left;">Use to compliment compass tape boundary type to indicate on screen position of targets.</td>
<td style="text-align: left;"><img src="../images/no-boundary.png" alt="An example of no boundary"></td>
</tr>
</tbody>
</table>
<h3 id="boundary-shape">Boundary shape</h3>
<p>When using <code>Padded</code> or <code>Absolute</code> boundaries, you can configure the shape of the boundary to be a <code>Rectangle</code> or <code>Ellipse</code>. You can change the boundary shape at runtime through the <a class="xref" href="../api/TargetIndicators.TargetIndicatorManager.html#TargetIndicators_TargetIndicatorManager_BoundaryShape">BoundaryShape</a> property.</p>
<h4 id="rectangle">Rectangle</h4>
<p><img src="../images/rectangle-boundary.png" alt="An example of an rectangle boundary"></p>
<p><code>TargetIndicatorManager</code> provides the <a class="xref" href="../api/TargetIndicators.TargetIndicatorManager.html#TargetIndicators_TargetIndicatorManager_Rectangle">Rectangle</a> property to get the currently configured rectangles <code>Rect</code> data. This is used for the boundary visualizer but can be used for your apps needs as well.</p>
<h4 id="ellipse">Ellipse</h4>
<p><img src="../images/ellipse-boundary.png" alt="An example of a ellipse boundary"></p>
<p><code>TargetIndicatorManager</code> provides the <a class="xref" href="../api/TargetIndicators.TargetIndicatorManager.html#TargetIndicators_TargetIndicatorManager_Ellipse">Ellipse</a> property to get the currently configured <a class="xref" href="../api/TargetIndicators.Ellipse.html">Ellipse</a> data. This is used for the boundary visualizer but can be used for your apps needs as well.</p>
<h3 id="padding">Padding</h3>
<p>When <code>BoundaryType</code> is <code>Padded</code> you can adjust the distance in pixels between the edge of the screen and the boundary. You can configure the padding for the <code>Top</code>, <code>Bottom</code>, <code>Left</code>, and <code>Right</code> edges independently. These properties are ignored if the boundary shape is not set to <code>Padded</code>.</p>
<h3 id="size">Size</h3>
<p>When <code>BoundaryType</code> is <code>Absolute</code> you can adjust the size by the <a class="xref" href="../api/TargetIndicators.TargetIndicatorManager.html#TargetIndicators_TargetIndicatorManager_Width">Width</a> and <a class="xref" href="../api/TargetIndicators.TargetIndicatorManager.html#TargetIndicators_TargetIndicatorManager_Height">Height</a> properties. The size does not change if the screen resolution or aspect ratio changes. These properties are ignored if the boundary shape is not set to <code>Absolute</code>.</p>
<h2 id="visualize-the-boundary">Visualize the boundary</h2>
<p>You can visualize your current configuration at edit time and at runtime with the <a class="xref" href="../api/TargetIndicators.TargetIndicatorBoundaryVisualizer.html">TargetIndicatorBoundaryVisualizer</a>.</p>
<h3 id="add-visualizer">Add visualizer</h3>
<p><img src="../images/add-visualizer.png" alt="The TargetIndicatorManager component attached to a GameObject."></p>
<h3 id="edit-visualizer">Edit visualizer</h3>
<p><img src="../images/visualizer-options.png" alt="The TargetIndicatorManager component attached to a GameObject."></p>
<h2 id="add-a-target">Add a target</h2>
<p>To add a target to track use <a class="xref" href="../api/TargetIndicators.TargetIndicatorManager.html#TargetIndicators_TargetIndicatorManager_TryAddTarget_">TryAddTarget</a> as shown in the following code example:</p>
<pre><code class="lang-cs" name="TryAddTarget">public void TryAddTargetExample(TargetIndicatorManager manager, Transform target)
{
    var wasAdded = manager.TryAddTarget(target, out var targetIndicator);

    if (!wasAdded)
    {
        // Failed to add target because max limit of targets is reached.
        // Handle error.
        return;
    }

    // Successfully added target.
}
</code></pre>
<p>The max number of targets that can be tracked at once is 100. <code>TryAddTarget</code> can only fail if you try to add more than 100 targets. To get the current number of tracked targets use <a class="xref" href="../api/TargetIndicators.TargetIndicatorManager.html#TargetIndicators_TargetIndicatorManager_TrackedTargetsCount">TrackedTargetsCount</a>. If you need more than 100 (god bless), you can use <a href="#using-multiple-target-indicator-managers">multiple target indicator managers</a>.</p>
<p>Keep track of the returned <code>TargetIndicator.TrackedIndicatorId</code> in the <code>out</code> parameter to know which target indicator corresponds to a target.</p>
<h2 id="remove-a-target">Remove a target</h2>
<p>To remove a target from being tracked use <a class="xref" href="../api/TargetIndicators.TargetIndicatorManager.html#TargetIndicators_TargetIndicatorManager_TryRemoveTarget_TargetIndicators_TargetIndicatorId_">TryRemoveTarget</a> as shown in the following code example:</p>
<pre><code class="lang-cs" name="TryRemoveTarget">public void TryRemoveTargetExample(TargetIndicatorManager manager, TargetIndicatorId id)
{
    var wasRemoved = manager.TryRemoveTarget(id);

    if (!wasRemoved)
    {
        // Failed to remove target because the target indicator ID was invalid.
        // Handle error.
        return;
    }

    // Successfully removed target.
}
</code></pre>
<div class="NOTE">
<h5>Note</h5>
<p>Removing a target can only fail if you pass an invalid <code>TargetIndicatorId</code>.</p>
</div>
<h2 id="remove-all-targets">Remove all targets</h2>
<p>To remove all targets at once use <a class="xref" href="../api/TargetIndicators.TargetIndicatorManager.html#TargetIndicators_TargetIndicatorManager_RemoveAllTargets">RemoveAllTargets</a> as shown in the following code example:</p>
<pre><code class="lang-cs" name="RemoveAllTarget">public void RemoveAllTargetsExample(TargetIndicatorManager manager)
{
    manager.RemoveAllTargets();

    // Successfully removed all tracked targets.
}
</code></pre>
<div class="TIP">
<h5>Tip</h5>
<p>If you just want to stop receiving updates you can disable the <code>TargetIndicatorManager</code> component. Re-enabling it will resume tracking targets.</p>
</div>
<h2 id="get-a-target">Get a target</h2>
<p>To check if a target indicator is being tracked use <a class="xref" href="../api/TargetIndicators.TargetIndicatorManager.html#TargetIndicators_TargetIndicatorManager_TryGetTargetIndicator_">TryGetTargetIndicator</a> as shown in the following code example:</p>
<pre><code class="lang-cs" name="GetATargetIndicator">public void GetATargetIndicatorExample(
    TargetIndicatorManager manager, TargetIndicatorId id)
{
    var didGet = manager.TryGetTargetIndicator(id, out var targetIndicator);

    if (!didGet)
    {
        // Failed to get target because target indicator ID was invalid.
        // Handle error.
        return;
    }

    // Successfully received target indicator.
}
</code></pre><h2 id="get-screen-pose">Get screen pose</h2>
<p>If you want to get the screen pose of any world space position use <a class="xref" href="../api/TargetIndicators.TargetIndicatorManager.html#TargetIndicators_TargetIndicatorManager_GetScreenPose_">GetScreenPose</a>. This can be useful if you want to control your own life cycle, you only need a one time update, or need infrequent updates for a targets screen pose.</p>
<p>The following code example shows you how to use <code>GetScreenPose</code>:</p>
<pre><code class="lang-cs" name="GetScreenPose">public void GetScreenPoseExample(
    TargetIndicatorManager manager, Vector3 worldSpacePosition)
{
    var screenPose = manager.GetScreenPose(worldSpacePosition, out var isOutsideBounds);

    // screenPose.position.x = horizontal axis coordinate in screen space (pixels).
    // screenPose.position.y = vertical axis coordinate in screen space (pixels).
    // screenPose.position.z = depth from the camera in world space (meters).

    // screenPose.rotation = direction to target.

    // isOutsideBounds = true if the screenPose.position is outside the configured bounds.
}
</code></pre><h2 id="is-outside-boundary">Is outside boundary</h2>
<p>Each <code>TargetIndicator</code> contains an <a class="xref" href="../api/TargetIndicators.TargetIndicator.html#TargetIndicators_TargetIndicator_IsOutsideBounds">IsOutsideBounds</a> property that you can use to know if a target indicators is outside the bounds of the current configuration when the <code>TargetIndicator</code> was created. If you want to know if any <code>Vector3</code> position is outside the current boundary configuration use <a class="xref" href="../api/TargetIndicators.TargetIndicatorManager.html#TargetIndicators_TargetIndicatorManager_IsOutsideBounds_">TargetIndicatorManager.IsOutsideBounds</a> as shown in the following example:</p>
<pre><code class="lang-cs" name="IsOutsideBoundary">public void IsOutsideBoundaryExample(TargetIndicatorManager manager, Vector3 worldSpacePosition)
{
    var isOutsideBounds = manager.IsOutsideBounds(worldSpacePosition);

    // isOutsideBounds = true if the pose.position is outside the configured bounds.
}
</code></pre><h2 id="life-cycle-events">Life cycle events</h2>
<p>While enabled, the <code>TargetIndicatorManager</code> component will check for changes every frame. If any anchors were added, updated, or removed, <code>TargetIndicatorManager</code> will invoke <a class="xref" href="../api/TargetIndicators.TargetIndicatorManager.html#TargetIndicators_TargetIndicatorManager_TargetIndicatorsAdded">TargetIndicatorsAdded</a>, <a class="xref" href="../api/TargetIndicators.TargetIndicatorManager.html#TargetIndicators_TargetIndicatorManager_TargetIndicatorsUpdated">TargetIndicatorsUpdated</a>, <a class="xref" href="../api/TargetIndicators.TargetIndicatorManager.html#TargetIndicators_TargetIndicatorManager_TargetIndicatorsRemoved">TargetIndicatorsRemoved</a> events respectively.</p>
<p>Each event passes a <a href="https://learn.microsoft.com/en-us/dotnet/api/system.readonlyspan-1?view=net-9.0">ReadOnlySpan<targetindicator></targetindicator></a> that wraps around an underlying array. This avoids heap allocations and slices the array to the size of changes that occurred since the last time the events were invoked.</p>
<p>The following code example shows how you can subscribe to these events and iterate over the spans they pass:</p>
<pre><code class="lang-cs" name="LifeCycle">public void LifeCycleExample(TargetIndicatorManager manager)
{
    manager.TargetIndicatorsAdded += OnTargetIndicatorsAdded;
    manager.TargetIndicatorsUpdated += OnTargetIndicatorsUpdated;
    manager.TargetIndicatorsRemoved += OnTargetIndicatorsRemoved;
}

void OnTargetIndicatorsAdded(ReadOnlySpan&lt;TargetIndicator&gt; added)
{
    foreach (var targetIndicator in added)
    {
        var screenPose = targetIndicator.ScreenPose;
    }
}

void OnTargetIndicatorsUpdated(ReadOnlySpan&lt;TargetIndicator&gt; updated)
{
    foreach (var targetIndicator in updated)
    {
        var updatedScreenPose = targetIndicator.ScreenPose;
    }
}

void OnTargetIndicatorsRemoved(ReadOnlySpan&lt;TargetIndicatorId&gt; removed)
{
    foreach (var targetIndicatorId in removed)
    {
        // TargetIndicatorId was removed.
    }
}
</code></pre>
<p>You can disable the <code>TargetIndicatorManager</code> component to stop receiving life cycle events and control your own life cycle and rely on the <code>TargetIndicatorManager</code> exclusively for <a href="#get-screen-pose">pose</a> and <a href="#is-outside-boundary">boundary</a> checks.</p>
<h2 id="using-multiple-target-indicator-managers">Using multiple target indicator managers</h2>
<p>Some applications might require multiple boundary types or multiple configurations. You can have multiple <code>TargetIndicatorManager</code> components in your scene to get more complex designs. For example if you use <code>BoundaryType.CompassTape</code> you will only get indicators to display on the compass tape but might not know what target they correspond to.</p>
<p>You can have a second <code>TargetIndicatorManager</code> that is configured to use <code>BoundaryType.None</code> that marks the same target with a matching icon as used in your compass tape visualizer to indicate which target represents which marker in your compass tape indicator. The <a href="xref:TODO">Samples</a> provides an example of how to configre multiple target indicator managers.</p>
<h2 id="xr">XR</h2>
<p>A common problem in XR is showing users where to look to find an important item or location in your app. You can configure your target indicators manager to guide users to targets in their environment. The current solution is limited and requires a specific configuration and setup. The following steps demonstrate how to setup your scene for XR:</p>
<ol>
<li>Set your boundary type to <code>Absolute</code></li>
<li>Edit the <code>Width</code> and <code>Height</code></li>
<li>Display you target indicators on a Canvas set to <code>Screen Space Camera</code> or UI system of your choice</li>
</ol>
<p>The <a href="xref:">Samples</a> provides an example of how to use UGui for XR.</p>

</article>
          </div>

          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/JakeManfre/waypoint-indicator/blob/docs-setup/Assets/Target Indicators/Documentation~/manual/how-to-use.md/#L1" class="contribution-link">Edit this page</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In this article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>

      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
      
      <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>

    <script type="text/javascript" src="../styles/docfx.vendor.min.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
